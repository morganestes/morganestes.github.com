function popPic(e){var t=Math.floor(Math.random()*e.items.length),n=e.items[t];$("#flickr-random img").attr({src:n.media.m,title:n.title,alt:n.title});if($("html").hasClass("screen-small"))return;$("#flickr a").popover({html:!0,placement:function(){var e="left";return $("html").hasClass("screen-phone")?e="top":$("html").hasClass("screen-tablet")?e="left":e="right",e},title:function(){return $("#flickr-random img").attr("title")},content:function(){return $("#flickr-random").html()}})}function showLatestAction(e){var t="",n=e[0],r="morganestes",i="R_bf730b3615bf021fd8c0a38634b151ee";get_short_url(n.url,r,i,function(e){t+="Type: "+n.type+"<br>",t+="Repository: "+n.repository.name+"<br>",t+='URL: <a href="'+e+'">'+e+"</a>"}),$("#github a").popover({title:"Latest action on GitHub",content:function(){return t},html:!0})}function get_short_url(e,t,n,r){$.getJSON("http://api.bitly.com/v3/shorten?callback=?",{format:"json",apiKey:n,login:t,longUrl:e},function(e){return r(e.data.url)})}function showLatestTweet(e){if($("html").hasClass("screen-small"))return;$("#twitter a").popover({html:!0,placement:"right",title:function(){return'<a href="http://twitter.com/morganestes">@morganestes</a>'},content:function(){return e[0].text}})}var setScreenClass;setScreenClass=function(){var e,t,n,r,i,s;t=[["screen-small",320],["screen-phone",480],["screen-tablet",767],["screen-desktop",9999]],s=$(document).width(),i="",e=$("html");for(n in t)if(s<=t[n][1]){i=t[n][0];break}for(r in t)e.removeClass(t[r][0]);return e.addClass(i)},$(function(){return setScreenClass()}),$(window).resize(function(){return setScreenClass()}),jQuery(function(e){e(".nav").scrollspy(),e(".phone").click(function(t){t=e(this),t.popover({placement:"top",trigger:"manual"}).popover("toggle")}),e("a.thumbnail img").each(function(){$that=e(this),$altText=$that.attr("alt"),$that.attr("title",$altText)}).tooltip()}),$(document).ready(function(){var e="http://api.flickr.com/services/feeds/photos_public.gne?id=40222090@N00&lang=en-us&format=json&jsoncallback=?";$.getJSON(e,popPic)}),$.getJSON("https://github.com/morganestes.json?callback=?",showLatestAction),$.getJSON("http://twitter.com/statuses/user_timeline/morganestes.json?callback=?",showLatestTweet);